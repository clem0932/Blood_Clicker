<html>
	<style type="text/css">
		.item_store{
			background-color: #2E4272;
			display: inline-block;
		}
		.main_board{
			background-color: #5E4272;
			display: inline-block;
		}
		.main_image{
			-webkit-transform: scale(1);
			transform: scale(1);
			-webkit-transition: .1s ease-in-out;
			transition: .1s ease-in-out;
		}




	</style>

	<body>
		<h1 style="font-family: Arial, Helvetica, sans-serif; font-size: xx-large; color: #ffffff; background-color: #b41103; word-spacing: 5px; text-align: center;">A SANG % - Blood Clicker -</h1>

		<div class="item_store">
			<p>Seringue(s) : <span id="str_numb_seringue">0</span></p>
			<button id="pay_seringue" onclick="increment_seringue()">Pay <span id="str_price_seringue">100</span></button>
			<p>Multiplier : x<span id ="str_multiplier">1</span></p>
			<button id="pay_multiplier" onclick="increment_multiplier()">Pay <span id="str_price_multiplier">10</span> mL</button>
		</div>

		<div class="main_board">
			<div class="main_image">
				<img src="logo goute sans pixel art.png" id = "blood" style="width: 352px; height: 489px;" onclick = "increment_click()">
			</div>
			<p>Click to save life !</p>
			<p>Amount of blood collected : <span id="amount">0</span><span id="unitie"> mililiters</span></p>
			<p>Click(s) per second : <span id="str_per_second">0</span></p>
		</div>
		
		
	</body>


	<script type="text/javascript">
		var clicks = 0;

		var numb_seringue = 0;
		var price_seringue = 100;

		var price_multiplier = 10;
		var numb_multiplier = 0;

		var per_second = 0;

		let unities = [' mililiters',' Liters',' Millions Liters',' Billion Liters']

		imgObj = document.getElementById('blood');
		//imgObj.style.position= 'relative';
		//imgObj.style.left = '0px';


		function animation() {
			/*if (parseInt(imgObj.style.left) == 10){
				imgObj.style.left = parseInt(imgObj.style.left) - 10 + 'px';
			} else {
				imgObj.style.left = parseInt(imgObj.style.left) + 10 + 'px';
			}*/
			if (parseInt(imgObj.style.width) == 352){
				imgObj.style.width = parseInt(imgObj.style.width) - 10 + 'px';
				imgObj.style.height = parseInt(imgObj.style.height) - 10 + 'px';
			} else {
				imgObj.style.width = parseInt(imgObj.style.width) + 10 + 'px';
				imgObj.style.height = parseInt(imgObj.style.height) + 10 + 'px';
			}
		}


		function increment_click(){
			animation()
			clicks += Math.pow(2,numb_multiplier);
			//amount.innerHTML = parseInt(clicks);
		}
		
		function increment_multiplier(){
			if (clicks >= price_multiplier){
				clicks -= price_multiplier;
				//amount.innerHTML = parseInt(clicks);

				numb_multiplier += 1;
				str_multiplier.innerHTML = Math.pow(2,numb_multiplier);

				price_multiplier *= 2;
				str_price_multiplier.innerHTML = price_multiplier;
			}
		}

		function increment_seringue(){
			if (clicks >= price_seringue){
				numb_seringue += 1;
				str_numb_seringue.innerHTML = numb_seringue;

				clicks -= price_seringue;
				//amount.innerHTML = parseInt(clicks);

				price_seringue *= Math.pow(2,numb_seringue);
				str_price_seringue.innerHTML = price_seringue;
			}
		}
		
		function per_second_update() {
			per_second = (Math.pow(2,numb_seringue)-1);
			str_per_second.innerHTML = parseInt(per_second);
		}

		function click_update(){
			clicks += per_second/10;

			var n = parseInt(clicks).toString().length
			if (n > 12 && document.getElementById('unitie').value != unities[3]){
				var divider = 1000000000000;
				var i = 3;
			} else if (n > 9 && document.getElementById('unitie').value != unities[2]) {
				var divider = 1000000000;
				var i = 2;
			} else if (n > 3 && document.getElementById('unitie').value != unities[1]) {
				var divider = 1000;
				var i = 1;
			} else if (n <= 3 && document.getElementById('unitie').value != unities[0]) {
				var divider = 1;
				var i = 0;
			}
			amount.innerHTML = parseInt((clicks/divider)*100) / 100;
			unitie.innerHTML = unities[i];
			
		}

		function button_update() {
			if (clicks < price_seringue){
				document.getElementById("pay_seringue").disabled = true;
			} else {
				document.getElementById("pay_seringue").disabled = false;
			}
			if (clicks < price_multiplier){
				document.getElementById("pay_multiplier").disabled = true;
			} else {
				document.getElementById("pay_multiplier").disabled = false;
			}
		}

		function main_loop(){
			
			per_second_update();
			
			click_update();	

			button_update();
		}


		setInterval(main_loop,100);

		
	</script>

</html>